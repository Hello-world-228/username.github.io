<!DOCTYPE html>
<html lang="ru" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Евгений Никитин — Продуктовый менеджер</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <!-- Performance: preconnects for Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Archivo:ital,wght@0,500;0,700;1,500;1,700&display=swap" rel="stylesheet" />

  <style>

    :root {
      /* базовые */
      --bg-dark: #0a192f;
      --bg-dark-2: #112240;
      --text-dark: #ccd6f6;
      --accent: #bc64ff; /* #64ffda */
      --ink: #1e293b;           /* текст на светлой теме */
      --paper: #ffffff;         /* фон светлой темы */
      --muted: #94a3b8;
      --line: rgba(100, 255, 218, 0.25);
      --radius: 16px;
      --shadow: 0 10px 30px rgba(2, 12, 27, 0.3);

      /* ticker */
      --hi: var(--accent);
      --ticker-height: 168px;
      --ticker-size-min: 48px;
      --ticker-size-vw: 6vw;
      --ticker-size-max: 88px;
      --ticker-gap: 96px;
      --ticker-speed: 60s;

      /* about spacing */
      --about-space: 28px;
      --about-space-lg: 36px;
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg-dark);
      color: var(--text-dark);
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      padding-top: 76px; /* синхронизировано с высотой header */
      transition: background .4s ease, color .4s ease;
    }
    body.light { background: var(--paper); color: var(--ink); }

    header {
      position: fixed; top: 0; left: 0; right: 0; height: 76px;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 clamp(16px, 4vw, 48px);
      background: color-mix(in oklab, var(--bg-dark-2) 90%, transparent);
      backdrop-filter: saturate(1.2) blur(10px);
      border-bottom: 1px solid var(--line);
      z-index: 1000;
    }
    body.light header { background: color-mix(in oklab, #f8fafc 70%, transparent); }

    .logo { display: flex; align-items: center; gap: 12px; font-weight: 700; letter-spacing: .2px; }
    .logo img { height: 40px; width: auto; }

    nav { display: flex; gap: 18px; align-items: center; position: relative; }
    nav a { text-decoration: none; color: inherit; font-size: 14px; padding: 8px 10px; border-radius: 10px; position: relative; }
    nav a:hover { background: color-mix(in oklab, var(--accent), transparent 85%); }

    /* HERO */
    .hero { position: relative; min-height: min(90vh, 820px); display: grid; place-items: center; text-align: left; overflow: clip; }
    .hero video { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; }
    .hero::after { content: ""; position: absolute; inset: 0; z-index: 1; background:
      linear-gradient(180deg, rgba(10,25,47,.55), rgba(10,25,47,.75)); }
    body.light .hero::after { background: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.8)); }
    .hero-inner { position: relative; z-index: 2; width: min(1100px, 92vw); display: grid; gap: 18px; align-items: start; }
    .kicker { font-weight: 600; letter-spacing: .16em; text-transform: uppercase; opacity: .8; font-size: 12px; }
    .title { font-weight: 800; line-height: .9; letter-spacing: -2px; font-size: clamp(40px, 9vw, 96px); }
    .subtitle { font-size: clamp(16px, 2.3vw, 24px); max-width: 800px; opacity: .9; }

    /* Controls */
    .controls { position: fixed; bottom: 20px; left: 20px; right: 20px; display: flex; justify-content: space-between; gap: 10px; z-index: 1001; }
    .chip { display: inline-flex; align-items: center; gap: 10px; border: 1.5px solid var(--line); background: color-mix(in oklab, #000 6%, transparent);
      padding: 10px 14px; border-radius: 999px; cursor: pointer; user-select: none; font-weight: 600; }
    .chip .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--accent); box-shadow: 0 0 0 3px rgba(100,255,218,.15); }
    body.light .chip { background: color-mix(in oklab, #fff 60%, transparent); }

    /* Sections */
    .section { padding: clamp(56px, 9vw, 120px) 0; border-top: 1px solid var(--line); }
    .container { width: min(1100px, 92vw); margin: 0 auto; }
    .section h2 { font-size: clamp(24px, 3vw, 36px); margin: 0 0 18px; letter-spacing: -.5px; }
    .section .lead { color: var(--muted); margin-bottom: 22px; max-width: 820px; }

    /* About */
    .about { display: grid; grid-template-columns: 1fr .8fr; gap: clamp(24px, 6vw, 48px); align-items: center; }
    .about img { width: 100%; height: auto; border-radius: var(--radius); box-shadow: var(--shadow); }
    .tags { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
    .tag { padding: 6px 10px; border: 1px dashed var(--line); border-radius: 999px; font-size: 13px; opacity: .9; }

    /* Work tiles */
    .tiles { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; margin-top: 24px; }
    .tile { perspective: 1000px; height: 340px; }
    .tile-inner { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform .6s; }
    .tile:hover .tile-inner, .tile:focus-within .tile-inner { transform: rotateY(180deg); }
    .tile-side { position: absolute; inset: 0; border-radius: var(--radius); padding: 22px; backface-visibility: hidden; display: grid; place-items: center; text-align: center; }
    .tile-front { background: color-mix(in oklab, var(--bg-dark-2) 85%, #000 0%); color: #fff; border: 1px solid var(--line); }
    .tile-back  { background: var(--accent); color: #112240; transform: rotateY(180deg); text-align: left; overflow: auto; }

    /* Contact */
    .contact { display: grid; gap: 10px; }
    .btn { display: inline-flex; align-items: center; gap: 10px; padding: 14px 18px; border-radius: 12px; border: 1.5px solid var(--accent); color: inherit; text-decoration: none; font-weight: 700; }
    .btn:hover { background: color-mix(in oklab, var(--accent), transparent 85%); }

    /* Responsive */
    @media (max-width: 1024px) { .about { grid-template-columns: 1fr; } .tiles { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 640px)  { body { padding-top: 96px; } .title { letter-spacing: -1px; } .tiles { grid-template-columns: 1fr; } }

    /* --- TICKER --- */
    .hi { color: var(--hi); font-weight: 800; }

    .ticker{
      position: relative; overflow: hidden;
      border-top: 1px solid var(--line); border-bottom: 1px solid var(--line);
      height: var(--ticker-height);
      display: grid; align-items: center;
      white-space: nowrap;
      background:
        radial-gradient(1400px 60% at 50% 0%, rgba(100,255,218,.06), transparent 65%),
        repeating-linear-gradient(0deg, rgba(255,255,255,.02) 0 1px, transparent 1px 3px),
        repeating-linear-gradient(45deg, rgba(255,138,0,.05) 0 2px, transparent 2px 14px),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%%" height="100%%" filter="url(%23n)" opacity="0.04"/></svg>');
      background-repeat: repeat;
      background-size: auto, auto, auto, 240px 240px;
      background-color: color-mix(in oklab, var(--bg-dark-2) 75%, transparent);
    }
    body.light .ticker{
      background:
        radial-gradient(1400px 60% at 50% 0%, rgba(100,255,218,.10), transparent 65%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.04) 0 1px, transparent 1px 3px),
        repeating-linear-gradient(45deg, rgba(255,138,0,.06) 0 2px, transparent 2px 14px),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%%" height="100%%" filter="url(%23n)" opacity="0.05"/></svg>');
      background-repeat: repeat;
      background-size: auto, auto, auto, 240px 240px;
      background-color: color-mix(in oklab, #f1f5f9 70%, transparent);
    }
    .ticker::before{
      content:""; position:absolute; inset:-1px; pointer-events:none;
      background:
        radial-gradient(600px 50% at 10% 50%, rgba(255,138,0,.07), transparent 60%),
        radial-gradient(600px 50% at 90% 50%, rgba(100,255,218,.07), transparent 60%);
      mix-blend-mode: overlay;
    }
    .ticker-track{
      display: inline-flex; gap: var(--ticker-gap);
      will-change: transform;
      animation: tickerLine var(--ticker-speed) linear infinite;
      padding: 12px 32px; flex-shrink: 0;
      font-family: 'Archivo','Inter',system-ui,sans-serif;
      font-style: italic; font-weight: 700;
      font-size: clamp(var(--ticker-size-min), var(--ticker-size-vw), var(--ticker-size-max));
      letter-spacing: .04em; line-height: 1; text-transform: uppercase;
    }
    .ticker-item{ opacity: .95; }
    .ticker:hover .ticker-track{ animation-play-state: paused; }
    @keyframes tickerLine{ from{ transform: translateX(0); } to{ transform: translateX(-50%); } }

    /* --- CONTACT: wide + video bg + noise + dim --- */
    .contact-section{ position: relative; padding: clamp(72px, 12vw, 140px) 0; }
    .contact-inner{ position: relative; z-index: 2; width: min(1300px, 96vw); margin: 0 auto; text-align: center; display: grid; gap: 14px; }
    .contact-bg{ position: absolute; inset: 0; overflow: hidden; z-index: 0; }
    .contact-video{ position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; pointer-events: none; filter: brightness(.8) contrast(1.05) saturate(1.05); }
    .contact-dim{ position: absolute; inset: 0; pointer-events: none; background: radial-gradient(80% 80% at 50% 50%, rgba(0,0,0,.35), rgba(0,0,0,.55)); mix-blend-mode: multiply; }
    body.light .contact-dim{ background: radial-gradient(80% 80% at 50% 50%, rgba(0,0,0,.25), rgba(0,0,0,.45)); }
    .contact-noise{ position: absolute; inset: 0; pointer-events: none; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.04"/></svg>'); background-size: 240px 240px; mix-blend-mode: overlay; }
    body.light .contact-noise{ opacity:.06; }
    body.light .contact-video{ filter: brightness(1.12) contrast(0.95) saturate(1.0) !important; }
    body.light .contact-dim{ background: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.80)) !important; mix-blend-mode: normal !important; opacity: 1 !important; }

    body.light .logo img { filter: invert(1) hue-rotate(180deg) contrast(1.05) brightness(1.05); }

    /* About spacing tweaks */
    #about #about-text{ margin-bottom: var(--about-space-lg) !important; }
    #about .lead{ margin-top: var(--about-space) !important; margin-bottom: 10px !important; }
    #about .lead + .tags{ margin-top: 14px !important; }
    #skills{ margin-bottom: var(--about-space-lg) !important; }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .hero video, .contact-video{ display:none; }
      .ticker-track{ animation: none !important; }
    }
/* --- Like counter --- */
.likes{
  margin-top: 16px;
  display:flex; align-items:center; justify-content:center; gap:14px;
  user-select:none;
}
.likes-label{ opacity:.9; }
.likes-count{ min-width: 2ch; text-align:left; font-weight:800; }

.heart-btn{
  --size: 56px;
  width: var(--size); height: var(--size);
  display:grid; place-items:center;
  border-radius: 999px;
  border: 2px solid var(--accent);
  background: transparent;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  box-shadow: 0 6px 16px rgba(2,12,27,.18);
}
.heart-btn svg path{
  fill: none; stroke: var(--accent); stroke-width: 1.5;
  transition: fill .25s ease, stroke .25s ease;
}
.heart-btn:hover{ transform: translateY(-1px); }
.heart-btn:active{ transform: scale(.98); }

/* Состояние "лайкнуто": красное сердце и «поп» */
.heart-btn.liked{
  border-color: #ff3b3b;
  background: color-mix(in oklab, #ff3b3b 10%, transparent);
  animation: heart-pop .28s ease-out;
}
.heart-btn.liked svg path{
  fill: #ff3b3b; stroke: #ff3b3b;
}

@keyframes heart-pop{
  0%{ transform: scale(1); }
  50%{ transform: scale(1.12); }
  100%{ transform: scale(1); }
}

/* светлая тема – немного меньше тени */
body.light .heart-btn{ box-shadow: 0 4px 12px rgba(0,0,0,.12); }
/* --- Like counter (фикс видимости кнопки) --- */
.likes{
  margin-top: 16px;
  display: flex; align-items: center; justify-content: center; gap: 14px;
  position: relative; z-index: 3;   /* поверх видео/димов */
}
.likes-label{ opacity: .9; }
.likes-count{ min-width: 2ch; text-align: left; font-weight: 800; }

/* обнуляем возможные глобальные ресеты кнопок и задаём явные размеры */
.heart-btn{
  all: unset;
  display: inline-grid; place-items: center;
  width: 56px; height: 56px;
  border-radius: 999px;
  border: 2px solid var(--accent);
  background: transparent;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(2,12,27,.18);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  z-index: 3; pointer-events: auto;
}
.heart-btn svg{ display: block; width: 28px; height: 28px; }
.heart-btn svg path{
  fill: none; stroke: var(--accent); stroke-width: 1.7;
  transition: fill .25s ease, stroke .25s ease;
}
.heart-btn:hover{ transform: translateY(-1px); }
.heart-btn:active{ transform: scale(.98); }

/* активное состояние (после клика) */
.heart-btn.liked{
  border-color: #ff3b3b;
  background: color-mix(in oklab, #ff3b3b 10%, transparent);
  animation: heart-pop .28s ease-out;
}
.heart-btn.liked svg path{ fill: #ff3b3b; stroke: #ff3b3b; }

@keyframes heart-pop{
  0%{ transform: scale(1); } 50%{ transform: scale(1.12); } 100%{ transform: scale(1); }
}

body.light .heart-btn{ box-shadow: 0 4px 12px rgba(0,0,0,.12); }

  </style>
</head>
<body class="dark">
  <header>
    <div class="logo"><img src="logo.png" alt="Логотип" /><span>Евгений Никитин</span></div>
    <nav>
      <a href="#about" class="nav-link">Обо мне</a>
      <a href="#work" class="nav-link">Работа</a>
      <a href="#contact" class="nav-link">Контакты</a>
    </nav>
  </header>

  <section class="hero" id="home" aria-label="Intro">
    <video autoplay muted loop playsinline>
      <source src="background.mp4" type="video/mp4" />
    </video>
    <div class="hero-inner">
      <div class="kicker" id="hero-kicker">Product Manager</div>
      <h1 class="title" id="hero-title">Привет, я Женя.</h1>
      <p class="subtitle" id="hero-description">Создаю и развиваю HR‑tech и инновационные цифровые продукты.
      Фокус — стратегия, исследования, JTBD и быстрые MVP.</p>
    </div>
  </section>

  <div id="ticker-1" class="ticker cracked" aria-label="Факт о Евгении"></div>

  <section class="section" id="about">
    <div class="container about">
      <div>
        <h2 id="about-title">Обо мне</h2>
        <p id="about-text">Я менеджер по продукту с опытом работы в HR‑tech, стартапах и бизнес‑инновациях. Окончил Университет ИТМО по направлению «Управление технологическими инновациями». Участвовал в крупных проектах, разрабатывал стратегические решения и запускал продукты с нуля.</p>
        <p class="lead"><strong>Навыки</strong></p>
        <div class="tags" id="skills">
          <span class="tag">Управление продуктом</span>
          <span class="tag">Бизнес‑анализ</span>
          <span class="tag">Работа с командами</span>
          <span class="tag">Разработка продуктов</span>
        </div>
        <p class="lead" style="margin-top:18px"><strong>Интересы</strong></p>
        <div class="tags" id="interests">
          <span class="tag">Технологические стартапы</span>
          <span class="tag">Инновационные решения</span>
          <span class="tag">HR‑tech</span>
        </div>
      </div>
      <div>
        <img src="uDdZC5DHctw.jpg" alt="Евгений Никитин" />
      </div>
    </div>
  </section>

  <div id="ticker-2" class="ticker" aria-label="Факт о Евгении"></div>

  <section class="section" id="work">
    <div class="container">
      <h2 id="work-title">Опыт и проекты</h2>
      <div class="tiles">
        <!-- Changellenge -->
        <article class="tile">
          <div class="tile-inner" tabindex="0">
            <div class="tile-side tile-front" id="tile-1-front">Changellenge</div>
            <div class="tile-side tile-back" id="tile-1-back">
              <div>
                <p><strong>Февраль 2024 — Апрель 2025</strong></p>
                <p><strong>Менеджер по продукту</strong></p>
                <ul>
                  <li>Развитие HR‑tech продукта, новое позиционирование</li>
                  <li>Концепции и финмодель, формирование команды</li>
                  <li>Путь пользователя, 20+ интервью</li>
                </ul>
                <p><strong>Достижения</strong></p>
                <ul>
                  <li>NPS 7.5 → 9.0</li>
                  <li>+15% выручки после пересмотра тарифов</li>
                  <li>+20% LTV</li>
                </ul>
              </div>
            </div>
          </div>
        </article>
        <!-- OPUS -->
        <article class="tile">
          <div class="tile-inner" tabindex="0">
            <div class="tile-side tile-front" id="tile-2-front">OPUS</div>
            <div class="tile-side tile-back" id="tile-2-back">
              <div>
                <p><strong>Август 2023 — Январь 2024</strong></p>
                <p><strong>Руководитель продукта</strong></p>
                <ul>
                  <li>Запуск нового HR‑tech продукта</li>
                  <li>Исследование рынка платформ для студентов</li>
                  <li>Создание MVP и привлечение инвестиций</li>
                </ul>
                <p><strong>Достижения</strong></p>
                <ul>
                  <li>Жизнеспособная версия и первые продажи</li>
                  <li>Инвестиции 500 000 ₽</li>
                </ul>
              </div>
            </div>
          </div>
        </article>
        <!-- Газпром‑Нефть -->
        <article class="tile">
          <div class="tile-inner" tabindex="0">
            <div class="tile-side tile-front" id="tile-3-front">Газпром‑Нефть</div>
            <div class="tile-side tile-back" id="tile-3-back">
              <div>
                <p><strong>Март 2023 — Июль 2023</strong></p>
                <p><strong>Стажёр‑менеджер проекта</strong></p>
                <ul>
                  <li>Исследование оптимизации расходов на логистику</li>
                  <li>Концепт устройства и цифровой прототип</li>
                </ul>
                <p><strong>Достижения</strong></p>
                <ul>
                  <li>Презентация концепта на международной конференции</li>
                </ul>
              </div>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <div id="ticker-3" class="ticker" aria-label="Факт о Евгении"></div>

  <section class="section contact-section" id="contact" aria-label="Contacts">
    <div class="contact-bg" aria-hidden="true">
      <video class="contact-video" autoplay muted loop playsinline preload="auto" poster="contact-poster.jpg">
        <source src="contact-bg.mp4" type="video/mp4" />
      </video>
      <div class="contact-noise"></div>
      <div class="contact-dim"></div>
    </div>

    <div class="container contact-inner">
      <h2>Контакты</h2>
      <p>Предпочтительный канал — Telegram.</p>
      <a class="btn" href="https://t.me/e_nikitin" target="_blank" rel="noopener">Написать мне</a>
    </div>
<div class="likes" id="likes">
  <span class="likes-label" id="likes-label">Мне нравится этот сайт</span>

  <!-- КНОПКА-ЛАЙК -->
  <button type="button" class="heart-btn" id="like-btn" aria-label="Поставить лайк" aria-pressed="false">
    <svg viewBox="0 0 24 24" width="28" height="28" aria-hidden="true">
      <path d="M12 21s-6.7-4.6-9.3-7.2A5.6 5.6 0 0 1 3.9 4c1.8-.8 3.9-.3 5.1 1.1L12 8l3-2.9C16.2 3.7 18.3 3.2 20.1 4a5.6 5.6 0 0 1 1.2 9.8C18.7 16.4 12 21 12 21z"/>
    </svg>
  </button>

  <span class="likes-count"><span id="likes-count">0</span></span>
</div>

  </section>

  <!-- Переключатели темы и языка -->
  <div class="controls">
    <div class="chip" id="theme-toggle"><span class="dot" aria-hidden="true"></span><span id="theme-label">Тёмная тема</span></div>
    <div class="chip" id="lang-toggle"><span class="dot" aria-hidden="true"></span><span id="lang-label">RU / EN</span></div>
  </div>

  <script>
    (function(){
      // ===== THEME =====
      const body = document.body;
      const themeToggle = document.getElementById('theme-toggle');
      const themeLabel  = document.getElementById('theme-label');
      const storedTheme = localStorage.getItem('theme');
      if (storedTheme === 'light') body.classList.replace('dark','light');
      themeLabel.textContent = body.classList.contains('light') ? 'Светлая тема' : 'Тёмная тема';
      themeToggle.addEventListener('click', () => {
        body.classList.toggle('light'); body.classList.toggle('dark');
        const isLight = body.classList.contains('light');
        themeLabel.textContent = isLight ? 'Светлая тема' : 'Тёмная тема';
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
      }, { passive: true });

      // ===== LANGUAGE (основной переключатель как в исходнике) =====
      const langToggle = document.getElementById('lang-toggle');
      const heroKicker = document.getElementById('hero-kicker');
      const heroTitle  = document.getElementById('hero-title');
      const heroDescr  = document.getElementById('hero-description');
      const aboutTitle = document.getElementById('about-title');
      const aboutText  = document.getElementById('about-text');
      const workTitle  = document.getElementById('work-title');
      const t1f = document.getElementById('tile-1-front');
      const t2f = document.getElementById('tile-2-front');
      const t3f = document.getElementById('tile-3-front');
      const t1b = document.getElementById('tile-1-back');
      const t2b = document.getElementById('tile-2-back');
      const t3b = document.getElementById('tile-3-back');

      // no-op заглушки, чтобы не было ошибок как раньше (setSkills/setContacts не определены)
      window.setSkills = window.setSkills || function(){ /* noop */ };
      window.setContacts = window.setContacts || function(){ /* noop */ };

      let ru = true;
      langToggle.addEventListener('click', () => {
        ru = !ru;
        if (!ru) {
          heroKicker.textContent = 'Product Manager';
          heroTitle.textContent = 'Hi, I\'m Eugene.';
          heroDescr.textContent = 'I design and grow HR‑tech and innovative digital products. Focused on strategy, research, JTBD and fast MVPs.';
          aboutTitle.textContent = 'About me';
          aboutText.textContent = 'Product manager with experience in HR‑tech, startups and business innovation. ITMO University graduate in Technology Management. Led strategy work and launched products from scratch.';
          workTitle.textContent = 'Experience & projects';
          t1f.textContent = 'Changellenge';
          t1b.innerHTML = `<div><p><strong>Feb 2024 — Apr 2025</strong></p><p><strong>Product Manager</strong></p><ul><li>HR‑tech product growth, new positioning</li><li>Concepts, financial model, team setup</li><li>User journey, 20+ interviews</li></ul><p><strong>Achievements</strong></p><ul><li>NPS 7.5 → 9.0</li><li>+15% revenue after pricing</li><li>+20% LTV</li></ul></div>`;
          t2f.textContent = 'OPUS';
          t2b.innerHTML = `<div><p><strong>Aug 2023 — Jan 2024</strong></p><p><strong>Product Lead</strong></p><ul><li>New HR‑tech product</li><li>Market research for student job platforms</li><li>MVP & fundraising</li></ul><p><strong>Achievements</strong></p><ul><li>Viable product and first sales</li><li>Raised ₽500,000</li></ul></div>`;
          t3f.textContent = 'Gazprom Neft';
          t3b.innerHTML = `<div><p><strong>Mar 2023 — Jul 2023</strong></p><p><strong>Project Intern</strong></p><ul><li>Logistics cost optimization research</li><li>Device concept and digital prototype</li></ul><p><strong>Achievement</strong></p><ul><li>Presented at an international conference</li></ul></div>`;
          setSkills(false);
          setContacts(false);
        } else {
          heroKicker.textContent = 'Product Manager';
          heroTitle.textContent  = 'Привет, я Женя.';
          heroDescr.textContent  = 'Создаю и развиваю HR‑tech и инновационные цифровые продукты. Фокус — стратегия, исследования, JTBD и быстрые MVP.';
          aboutTitle.textContent = 'Обо мне';
          aboutText.textContent  = 'Я менеджер по продукту с опытом работы в HR‑tech, стартапах и бизнес‑инновациях. Окончил Университет ИТМО по направлению «Управление технологическими инновациями». Участвовал в крупных проектах, разрабатывал стратегические решения и запускал продукты с нуля.';
          workTitle.textContent  = 'Опыт и проекты';
          t1f.textContent = 'Changellenge';
          t1b.innerHTML = `<div><p><strong>Февраль 2024 — Апрель 2024</strong></p><p><strong>Менеджер по продукту</strong></p><ul><li>Развитие HR‑tech продукта, новое позиционирование</li><li>Концепции и финмодель, формирование команды</li><li>Путь пользователя, 20+ интервью</li></ul><p><strong>Достижения</strong></p><ul><li>NPS 7.5 → 9.0</li><li>+15% выручки после пересмотра тарифов</li><li>+20% LTV</li></ul></div>`;
          t2f.textContent = 'OPUS';
          t2b.innerHTML = `<div><p><strong>Август 2023 — Январь 2024</strong></p><p><strong>Руководитель продукта</strong></p><ul><li>Запуск нового HR‑tech продукта</li><li>Исследование рынка платформ для студентов</li><li>Создание MVP и привлечение инвестиций</li></ul><p><strong>Достижения</strong></p><ul><li>Жизнеспособная версия и первые продажи</li><li>Инвестиции 500 000 ₽</li></ul></div>`;
          t3f.textContent = 'Газпром‑Нефть';
          t3b.innerHTML = `<div><p><strong>Март 2023 — Июль 2023</strong></p><p><strong>Стажёр‑менеджер проекта</strong></p><ul><li>Исследование оптимизации расходов на логистику</li><li>Концепт устройства и цифровой прототип</li></ul><p><strong>Достижения</strong></p><ul><li>Презентация концепта на международной конференции</li></ul></div>`;
          setSkills(true);
          setContacts(true);
        }
        // синхронизируем связанные блоки после смены текста
        setTimeout(syncLanguage, 0);
      }, { passive: true });

      // ===== LANGUAGE SYNC (объединённый модуль) =====
      const SK_RU = ['Управление продуктом','Бизнес-анализ','Работа с командами','Разработка продуктов'];
      const SK_EN = ['Product Management','Business Analysis','Team Leadership','Product Development'];
      const IN_RU = ['Технологические стартапы','Инновационные решения','HR-tech'];
      const IN_EN = ['Tech Startups','Innovative Solutions','HR-tech'];

      const TICKER_FACTS_RU = [
        "Увеличил <span class='hi'>NPS с 7.5 до 9.0</span> за один цикл итераций",
        "Дал рост <span class='hi'>+15% выручки</span> после пересмотра тарифов",
        "Повысил <span class='hi'>LTV на 20%</span> благодаря новой логике ценности",
        "Провёл <span class='hi'>20+ глубинных интервью</span> и перерисовал CJM",
        "Запустил <span class='hi'>MVP</span> и привлёк <span class='hi'>₽500 000</span> инвестиций",
        "Выпускник <span class='hi'>ИТМО</span> — управление технологическими инновациями",
        "Выступил с концептом на <span class='hi'>международной конференции</span>"
      ];
      const TICKER_FACTS_EN = [
        "Raised <span class='hi'>NPS from 7.5 to 9.0</span> in one iteration cycle",
        "Delivered <span class='hi'>+15% revenue</span> after pricing overhaul",
        "Increased <span class='hi'>LTV by 20%</span> via value & pricing logic",
        "Ran <span class='hi'>20+ user interviews</span> and redesigned the CJM",
        "Launched an <span class='hi'>MVP</span> and raised <span class='hi'>₽500,000</span>",
        "Graduate of <span class='hi'>ITMO University</span> — Technology Management",
        "Presented a concept at an <span class='hi'>international conference</span>"
      ];

      function isRu(){
        const txt = (heroTitle?.textContent || document.documentElement.lang || '').trim();
        return /[А-Яа-яЁё]/.test(txt);
      }

      function translateHeader(ru){
        const aAbout   = document.querySelector('nav a[href="#about"]');
        const aWork    = document.querySelector('nav a[href="#work"]');
        const aContact = document.querySelector('nav a[href="#contact"]');
        if (!aAbout || !aWork || !aContact) return;
        if (ru){
          aAbout.textContent='Обо мне'; aWork.textContent='Работа'; aContact.textContent='Контакты';
          aAbout.setAttribute('aria-label','Обо мне'); aWork.setAttribute('aria-label','Работа'); aContact.setAttribute('aria-label','Контакты');
        } else {
          aAbout.textContent='About'; aWork.textContent='Work'; aContact.textContent='Contacts';
          aAbout.setAttribute('aria-label','About'); aWork.setAttribute('aria-label','Work'); aContact.setAttribute('aria-label','Contacts');
        }
      }

      function translateContact(ru){
        const section = document.getElementById('contact');
        if (!section) return;
        const h2  = section.querySelector('h2');
        const p   = section.querySelector('p');
        const btn = section.querySelector('.btn');
        if (ru){
          if (h2) h2.textContent='Контакты';
          if (p) p.textContent='Предпочтительный канал — Telegram.';
          if (btn) btn.textContent='Написать мне';
        } else {
          if (h2) h2.textContent='Contacts';
          if (p) p.textContent='Preferred channel — Telegram.';
          if (btn) btn.textContent='Message me';
        }
      }

      function translateAboutLabels(ru){
        const findLabelFor = (id)=>{
          const el = document.getElementById(id);
          if (!el) return null;
          let p = el.previousElementSibling;
          while (p && !(p.classList && p.classList.contains('lead'))) p = p.previousElementSibling;
          if (!p) return null;
          return p.querySelector('strong') || p;
        };
        const sk  = findLabelFor('skills');
        const intr = findLabelFor('interests');
        if (sk)   sk.textContent   = ru ? 'Навыки'   : 'Skills';
        if (intr) intr.textContent = ru ? 'Интересы' : 'Interests';
        // экспорт совместимости
        window.translateAboutLabels = (langRu)=> translateAboutLabels(!!langRu);
      }

      function translatePills(ru){
        const skills = document.querySelectorAll('#skills .tag');
        const interests = document.querySelectorAll('#interests .tag');
        const SK = ru ? SK_RU : SK_EN;
        const IN = ru ? IN_RU : IN_EN;
        skills.forEach((el,i)=>{ if (SK[i]) el.textContent = SK[i]; });
        interests.forEach((el,i)=>{ if (IN[i]) el.textContent = IN[i]; });
      }

      function buildTrack(text){
        const repeats = 8;
        let items = '';
        for (let i=0; i<repeats; i++) items += `<span class="ticker-item">${text}</span>`;
        return `<div class="ticker-track" aria-hidden="true">${items}${items}</div>`;
      }
      function renderTickers(ru){
        const facts = ru ? TICKER_FACTS_RU : TICKER_FACTS_EN;
        ['ticker-1','ticker-2','ticker-3'].forEach((id,idx)=>{
          const el = document.getElementById(id);
          if (!el) return;
          el.innerHTML = buildTrack(facts[idx % facts.length]);
        });
      }
      // экспорт совместимости
      window.setTickerLang = (langRu)=> renderTickers(!!langRu);

      function syncLanguage(){
        const ru = isRu();
        document.body.classList.toggle('lang-ru', ru);
        translateHeader(ru);
        translateContact(ru);
        translateAboutLabels(ru);
        translatePills(ru);
        renderTickers(ru);
      }

      // первичный запуск
      syncLanguage();

      // наблюдатель на смену hero‑заголовка
      if (heroTitle){
        new MutationObserver(syncLanguage).observe(heroTitle, { childList: true, characterData: true, subtree: true });
      }
      // поддержка кастомного события
      document.addEventListener('lang-change', (e)=>{
        const ru = !!(e.detail && e.detail.ru);
        document.body.classList.toggle('lang-ru', ru);
        translateHeader(ru); translateContact(ru); translateAboutLabels(ru); translatePills(ru); renderTickers(ru);
      });
    })();
(function(){
  const ENDPOINT = '/.netlify/functions/likes';
  const btn = document.getElementById('like-btn');
  const countEl = document.getElementById('likes-count');
  const labelEl = document.getElementById('likes-label');
  const STORAGE_KEY = 'site-liked-v1';

  // локализация подписи
  function detectRu(){
    const t = (document.getElementById('hero-title')?.textContent || document.documentElement.lang || '').trim();
    return /[А-Яа-яЁё]/.test(t);
  }
  function setLabel(){
    const ru = detectRu();
    labelEl.textContent = ru ? 'Мне нравится этот сайт' : 'I like this site';
    btn.setAttribute('aria-label', ru ? 'Поставить лайк' : 'Like this site');
  }

  async function getCount(){
    try{
      const r = await fetch(ENDPOINT, { method:'GET', headers:{'accept':'application/json'} });
      const data = await r.json();
      countEl.textContent = (data && typeof data.count === 'number') ? data.count : 0;
    }catch(e){ /* no-op */ }
  }

  async function sendLike(){
    try{
      const r = await fetch(ENDPOINT, { method:'POST' });
      const data = await r.json();
      if (typeof data.count === 'number') countEl.textContent = data.count;
    }catch(e){ /* no-op */ }
  }

  // init
  setLabel();
  getCount();

  // обновлять подпись при смене языка
  const langToggle = document.getElementById('lang-toggle');
  if (langToggle){
    langToggle.addEventListener('click', () => setTimeout(setLabel, 0));
  }
  document.addEventListener('lang-change', (e) => setLabel());
  const hero = document.getElementById('hero-title');
  if (hero){
    new MutationObserver(() => setLabel()).observe(hero, {childList:true,characterData:true,subtree:true});
  }

  // обработчик клика
  const already = localStorage.getItem(STORAGE_KEY) === '1';
  if (already) {
    btn.classList.add('liked');
    btn.setAttribute('aria-pressed', 'true');
  }

  btn.addEventListener('click', async () => {
    if (btn.classList.contains('liked')) return;      // один лайк с браузера
    btn.classList.add('liked');
    btn.setAttribute('aria-pressed', 'true');
    localStorage.setItem(STORAGE_KEY, '1');
    await sendLike();
  });
})();
(() => {
  const ENDPOINT = '/.netlify/functions/likes';
  const KEY = 'site-liked-v3'; // новый ключ, чтобы не тянуть старые флаги
  const btn = document.getElementById('like-btn');
  const countEl = document.getElementById('likes-count');
  if (!btn || !countEl) return;

  function markLiked(on){
    btn.classList.toggle('liked', !!on);
    btn.setAttribute('aria-pressed', on ? 'true' : 'false');
  }

  async function refresh(){
    try{
      const r = await fetch(ENDPOINT, { method:'GET', headers:{'accept':'application/json'} });
      if (!r.ok) throw 0;
      const data = await r.json();
      if (Number.isFinite(data.count)) countEl.textContent = String(data.count);
    }catch(e){ /* без откатов */ }
  }

  async function sendLike(){
    try{
      const r = await fetch(ENDPOINT, { method:'POST', headers:{'accept':'application/json'} });
      if (!r.ok) throw 0;
      const data = await r.json();
      if (Number.isFinite(data.count)) countEl.textContent = String(data.count);
    }catch(e){ /* сеть упала — оставляем UI как есть */ }
  }

  // начальное состояние из localStorage — без авто-отката
  markLiked(localStorage.getItem(KEY) === '1');

  // подтянуть актуальный счётчик с сервера
  refresh();

  // клик: один лайк на браузер
  btn.addEventListener('click', async () => {
    if (localStorage.getItem(KEY) === '1') return; // уже лайкали
    if (btn.dataset.busy) return;
    btn.dataset.busy = '1';

    // 1) оптимистично красим сердце и сохраняем флаг
    markLiked(true);
    localStorage.setItem(KEY, '1');

    // 2) оптимистично увеличиваем счётчик на 1
    const prev = parseInt(countEl.textContent, 10);
    if (!Number.isNaN(prev)) countEl.textContent = String(prev + 1);

    // 3) отправляем на сервер; если удачно — сервер вернёт точное число
    await sendLike();
    delete btn.dataset.busy;
  });

  // вспомогательное: захотел — можно сбросить лайк из консоли:
  // localStorage.removeItem('site-liked-v3');
})();
</script>
</body>
</html>